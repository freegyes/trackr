<template name="goals">
  <div class="row">
    <div class="table-responsive">
      <table class="table table-bordered no-bottom-margin">
        <thead>
          <tr class="active">
            <th class="col-md-3">
              <!-- for filtering
              <div class="input-group">
                <input type="text" name="project-name-search" class="form-control project-name-search input-sm input-border" placeholder="Filter projects..." data-toggle="tooltip" data-placement="bottom" title="just begin typing">
                <div class="input-group-btn">
                  <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Sort <span class="caret"></span></button>
                  <ul class="dropdown-menu dropdown-menu-right" role="menu">
                    <li><a href="#" class="sort-date-asc">Ascending</a></li>
                    <li><a href="#" class="sort-date-desc">Descending</a></li>
                  </ul>
                </div>
              </div>
              -->

            </th>
            {{#each modifiers}}
              <th class="col-md-3 text-center" data-toggle="tooltip" data-placement="top" title="{{goalsRange this}}" data-original-title="{{goalsRange this}}">
              {{viewBase}} {{modifiedDate this}}  
              </th>
            {{/each}}
          </tr>
        </thead>
      </table>
    </div>
    <div class="table-responsive table-content">
      <table class="table">
        <tbody>
          {{#if projects status="active" board=this._id sort=sort}}
            {{#each projects status="active" board=this._id name=filterProjects sort=sort}}
              <tr>
                <td class="col-md-3 active">
                  {{> projectItem}}
                </td>
                {{#each modifiers}}
                  <td class="col-md-3">
                    <ul class="list-group no-bottom-margin text-condensed">
                      {{#each goals this ../_id }}
                        <li class="list-group-item {{addStateClass}} padding-right-30">
                          {{name}}
                          {{> goalActions}}
                        </li>
                      {{/each}}
                    </ul>
                    <div class="form-group more-margin-top no-bottom-margin">
                      <input type="text" name="goal-name-{{this}}" class="form-control input-sm goal-name" placeholder="add new goal..." data-mod="{{this}}" data-project="{{../_id}}" data-toggle="tooltip" data-placement="bottom" title="just type it in and press enter">
                    </div>
                  </td>
                {{/each}}
              </tr>
            {{/each}}
            <tr>
              <td>
                <div class="form-group no-bottom-margin">
                  <input type="text"  name="project-name" class="form-control input-sm project-name" placeholder="add new project..." data-toggle="tooltip" data-placement="bottom" title="just type it in and press enter">
                </div>
              </td>
              {{#each modifiers}}
                <td></td>
              {{/each}}
            </tr>
          {{else}}
            <tr>
              <td colspan="3">
                <div class="form-group no-bottom-margin">
                  <input type="text"  name="project-name" class="form-control input-lg project-name" placeholder="add new project..." data-toggle="tooltip" data-placement="bottom" title="just type it in and press enter">
                </div>
              </td>
            </tr>
          {{/if}}
        </tbody>
      </table>
    </div>
  </div>
</template>